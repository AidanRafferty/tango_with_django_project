{% extends 'rango/base.html' %}

<!-- informs django that we will be using static files within the template.
 This allows us to access the media in the static directories via the use
 of the static template tag. This indicates to django that we want 
 to show the image located in the static media directory called images\rango.jpg. 
 Template tags are indicated by curly brackets with percentage signs. Calling static will combine the URL--
 specified in STATIC_URL with images\rango.jpg to provide the path of the 
 image we wish to display, being \static\images\rango.jpg 
 The HTML generated by the Django template engine would be:
<img src="/static/images/rango.jpg" alt="Picture of Rango" />

{{ variable_name }} - used to show template variables-->
{% load staticfiles %} 

{% block title_block %}
	Index
{% endblock %}
	
{% block body_block %}
		
		<p>visits: {{ visits }}</p> 

		<h1>Rango says...</h1>
		
		<div>
			{% if user.is_authenticated %}
				howdy {{user.username}}
			{% else %}
				hey there partner!
			{% endif %}
		</div>
		</br>
		
		<div>
		<strong>Most Liked Categories</strong>
		</div>
		
		<div>
		{% if categories %} <!-- check to see if there are any categories-->
		<ul><!-- if there are then create an unordered list and loop through them-->
			{% for category in categories %}
			<!-- create a list element which is a hyperlink to the view which displays the 
			pages associated with the current category being iterated over. The hyperlink url
			makes use of category.slug which is the slug field for the category object.
			When this link is clicked the url will be handled by the rango.urls and will be 
			matched by the url pattern and passed into show_category() in rango.views. -->			
			<li>
			<!-- this below references the name of the url pattern rather than placing the actual url pattern 
			in the link of the anchor tag and provides the perameter for the pattern as well which is the slug 
			field entry of the category-->
			<a href="{% url 'show_category' category.slug %}">{{ category.name }}</a>
			</li>
			{% endfor %}
		<ul>
		<!-- Otherwise display a message saying there arent any categories to display-->
		{% else %}
			<strong>There are no categories present.</strong>
		{% endif %}
		</div>
		
		<div>
		<strong>Most Viewed Pages</strong>
		</div>
		
		<div>
		{% if pages %} <!-- check to see if there are any categories-->
		<ul><!-- if there are then create an unordered list and loop through them-->
			{% for page in pages %}
			<li>
			<a href = "{{ page.url }}">{{page.title}}</a>
			</li>
			{% endfor %}
		<ul>
		<!-- Otherwise display a message saying there arent any categories to display-->
		{% else %}
			<strong>There are no pages present.</strong>
		{% endif %}
		</div>
		 
		<div>
		<!-- this looks up the url with the name attribute "about"-->
			<!--<a href="{% url 'about' %}">About Rango</a><br />
			<a href="{% url 'add_category' %}">Add a New Category</a><br /> -->
			<img src="{% static "images/rango.jpg" %}" alt="Picture of Rango" />
		</div>
		
{% endblock %}